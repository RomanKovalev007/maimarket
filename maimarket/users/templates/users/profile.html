{% extends 'base.html' %}
{% load static %}

{% block css %}
    <link type="text/css" href="{% static 'users/css/profile.css'%}" rel="stylesheet">
{% endblock %}

{% block js %}
    <script src="{% static 'users/js/tabs.js' %}" defer></script>
{% endblock %}

{% block content %}
    <section class="profile container" >
        <h1 class="profile__title">Профиль</h1>
        <div class="profile__wrapper" data-js-tabs>
            <aside class="profile__aside">
                <div class="profile__header">
                    {% if user.photo %}
                    <img class="profile__item" src="{{ user.photo.url }}" alt="" width="100" height="100">
                    {% endif %}
                    <div class="profile__character">
                        <p class="profile__last-name aside-title h2">{{ user.last_name }}</p>
                        <p class="profile__name aside-title h2">{{ user.first_name }}</p>
                    </div>
                </div>
                {% if user == request.user %}
                <div class="profile__body ">
                    <div class="tabs" role="tablist">
                        <button class="tabs__button is-active" 
                        id="tabBtn1" 
                        aria-controls="area1"
                        tabindex="0"
                        role="tab"
                        type="button"
                        data-js-tabs-button
                        aria-selected="true"
                        >
                            Мои товары
                        </button>
                        <button class="tabs__button"
                        id="tabBtn2" 
                        aria-controls="area2"
                        tabindex="-1"
                        role="tab"
                        type="button"
                        data-js-tabs-button
                        aria-selected="false"
                        >
                            Избранное
                        </button>
                        <button class="tabs__button"
                        id="tabBtn3" 
                        aria-controls="area3"
                        tabindex="-1"
                        role="tab"
                        type="button"
                        data-js-tabs-button
                        aria-selected="false"
                        >
                            Изменить профиль
                        </button>
                        
                        <a href="{% url 'goods:add_ad' %}" class="tabs__button">
                            Добавить товар
                        </a>
                    
                    </div>
                </div>
                {% else %}
                    <a class="product-card__aside-button" href="/">Написать сообщение</a>
                    <a class="product-card__aside-button product-card__aside-button--call" href="/">Позвонить</a>
                {% endif %}
            </aside>
            <div class="profile__main">
                <div class="profile__main-wrapper">
                    <div class="tabs__body is-active"
                    id="area1"
                    aria-labelledby="tabBtn1"
                    data-js-tabs-content
                    tabindex="0"
                    >   
                        <h2 class="profile-main-title">{% if user == request.user %}Мои товары{% else %}Товары продавца{% endif %}</h2>
                        <ul class="my-products__list">
                            {% for ad in ads %}
                            <li class="my-products__item">
                                <a href="{{ ad.get_absolute_url }}">
                                <div class="my-products__item-wrapper">
                                    <div class="my-products__photo">
                                        <img class="my-products__image" src="{{ ad.image.url }}" alt="">
                                    </div>
                                    <div class="my-products__info   ">
                                        <h3 class="my-products__name">{{ ad.name }}</h3>
                                        <p class="my-products__price">{{ ad.price }} <span>₽</span></p>
                                    </div>
                                </div>
                                </a>
                                {% if user == request.user %}
                                <div class="my-products__btns">
                                    <button class="my-products__button my-products__button--edit">Редактировать</button>
                                    <button class="my-products__button my-products__button--delete" data-js-delete-favorites>Удалить</button>
                                </div>
                                {% endif %}

                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div class="tabs__body"
                    id="area2"
                    aria-labelledby="tabBtn2"
                    data-js-tabs-content
                    tabindex="-1"
                    >
                    <h2 class="profile-main-title">Избранное</h2>
                    <ul class="my-products__list">
                    <li class="my-products__item">
                        <div class="my-products__item-wrapper">
                            <div class="my-products__photo">
                                <img class="my-products__image" src="/img/iphone_16_128_gb_rozovyy.jpg" alt="">
                            </div>
                            <div class="my-products__info   ">
                                <h3 class="my-products__name">iphone 16</h3>
                                <p class="my-products__price">1200 <span>₽</span></p>
                            </div>
                        </div>
                        <div class="my-products__btns">
                            <button class="my-products__button my-products__button--delete-from-likes" data-js-delete-favorites>Убрать из избранного</button>
                        </div>
                    </li>
                    <li class="my-products__item">
                        <div class="my-products__item-wrapper">
                            <div class="my-products__photo">
                                <img class="my-products__image" src="/img/53e26408531020c2b756d003c7f22d1a.jpg" alt="">
                            </div>
                            <div class="my-products__info">
                                <h3 class="my-products__name">Mac book Pro M4 AMG</h3>
                                <p class="my-products__price">180000 <span>₽</span></p>
                            </div>
                        </div>
                        <div class="my-products__btns">
                            <button class="my-products__button my-products__button--delete-from-likes" data-js-delete-favorites>Убрать из избранного</button>
                        </div>
                    </li>
                    <li class="my-products__item">
                        <div class="my-products__item-wrapper">
                            <div class="my-products__photo">
                                <img class="my-products__image" src="/img/iphone_16_128_gb_rozovyy.jpg" alt="">
                            </div>
                            <div class="my-products__info   ">
                                <h3 class="my-products__name">iphone 16</h3>
                                <p class="my-products__price">1200 <span>₽</span></p>
                            </div>
                        </div>
                        <div class="my-products__btns">
                            <button class="my-products__button my-products__button--delete-from-likes" data-js-delete-favorites>Убрать из избранного</button>
                        </div>
                    </li>
                    <li class="my-products__item">
                        <div class="my-products__item-wrapper">
                            <div class="my-products__photo">
                                <img class="my-products__image" src="/img/53e26408531020c2b756d003c7f22d1a.jpg" alt="">
                            </div>
                            <div class="my-products__info">
                                <h3 class="my-products__name">lorem20</h3>
                                <p class="my-products__price">180000 <span>₽</span></p>
                            </div>
                        </div>
                        <div class="my-products__btns">
                            <button class="my-products__button my-products__button--delete-from-likes" data-js-delete-favorites>Убрать из избранного</button>
                        </div>
                    </li>

                </ul>
                    </div>
                    <div class="tabs__body "
                    id="area3"
                    aria-labelledby="tabBtn3"
                    data-js-tabs-content
                    tabindex="-1"
                    >
                        <div class="edit-profile-wrapper">
                            <div class="edit-profile__photo">
                                <form class="add-product__form">
                                    <div class="add-product__photo">
                                        <h3> Изменить фотографию</h3>
                                        <div class="add-product__photo-inner">
                                            <div class="photo-preview-wrapper">
                                                <div class="photo-preview-box hidden">
                                                    <img class="preview__image" id="preview" src=""  width="70" height="70"/>
                                                    <button class="delete__photoBTN">
                                                        <span class="red_line"></span>
                                                        <span class="red_line"></span>  
                                                    </button>
                                                </div>
                                            </div>
                        
                                            <div class="photo-upload">
                                                <label class="photo-upload-label">
                                                <input class="photo-upload__input" type="file" id="fileInput" accept="image/*" hidden>
                                                    <p class="uploadtext">Добавить фотографию</p>
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="add-product__name">
                                        <label for="prodName">Имя</label>
                                        <input class="add-product__name-input" type="text" name="prodName" id="prodName">
                                    </div>
                                    <div class="add-product__name">
                                        <label for="prodlastname">Фамилия</label>
                                        <input class="add-product__name-input" type="text" name="prodlastname" id="prodlastname">
                                    </div>

                                    <div class="add-product__radio">
                                        <p class="title">Пол</p>
                                        <div class="radiabatns">
                                            <label class="radiobtn" >
                                                <input class="radiotruebtn visually-hidden" checked type="radio" name="gender" id="male" value="Male">
                                                <span class="radio__emulator"></span>
                                                <span class="radio__label">Мужской</span>
                                            </label>
                                        
                                        
                                            <label class="radiobtn" >
                                                <input class="radiotruebtn visually-hidden" type="radio" name="gender" id="female" value="Female">
                                                <span class="radio__emulator"></span>
                                                <span class="radio__label">Женский</span>
                                            </label>
                                        </div>
                                        
                                        
                                    </div>

                                    <div class="price">
                                        <label class="title" for="price">Номер телефона</label>
                                        <div class="priece__wrapper">
                                            <input type="number"   class="price__input" id="price" name="priceProd">
                                        </div> 
                                    </div>
                        
                                    <div class="add-product__description">
                                        <label class="title" for="prodDescprition">О себе</label>
                                        <textarea class="decription-area" name="description" id="prodDescprition"></textarea>
                                    </div>

                                    <div class="btns">
                                        <button class="Btn" type="submit">Сохранить</button>
                                        <a  class="Btn" href="/">Выйти</a>
                                    </div>
                                   </form>
                        
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </section>
{% endblock %}